<h1 class='center'><%= @question.title %></h2>

<%= render 'layouts/nav' %>

<!-- Question Content -->
<p><%= @question.content%></p>

<!-- Question: Voting -->
<div>
<a href="" class="vote-arrow-up">&#9650</a>
<a href="" class="vote-arrow-down">&#9660</a>
</div>


<div id='leftmenu' class='leftmenustyle'>
  This is my div
  <button id='buttonleft' name='Menuhide'>Hide</button>
  <br>
  <a href="prodsearch.php" class="classname3">Back</a>
</div>
<div id='leftbutton'>
  <button name='menushow'></button>
</div>


<!-- Question: Existing Comments -->
<ul>
<% @question.responses.each do |response| %>
  <li><%= response.content%> - <%= response.user.username %></li>
<% end %>
</ul>

<!-- Question: Add Comment -->
<button class="addComment" data-id="question">add a comment
  <div class="commentBox">
   <%= form_for Response.new do |f| %>
    <%= f.hidden_field :question_id, value: @question.id %>
    <%= f.hidden_field :responsible_id, value: @question.id %>
    <%= f.hidden_field :responsible_type, value: "question" %>
     <p>
       <%= f.label :content, "New comment" %><br/>
       <%= f.text_area :content %>
     </p>
     <p><%= f.submit "Add comment" %></p>
   <% end %>
  </div>
</button>

<!-- Question's Answers -->
<h4>Answers</h4>
<ul>
<% @question.answers.each do |ans| %>
  <!-- Answer Content -->
  <li>
  <%= ans.created_at%><%= ans.content %> - <%= ans.user.username %>
  <br>
  <!-- Answer: Existing Comments -->
  <ul>
    <% ans.responses.each do |response| %>
      <li><%= response.content%> - <%= response.user.username %></li>
    <% end %>
  </ul>

  <br>
  <!-- Answer: Add Comment -->
  <button class="addComment">add a comment
    <div class="commentBox">
     <%= form_for Response.new do |f| %>
      <%= f.hidden_field :question_id, value: @question.id %>
      <%= f.hidden_field :responsible_id, value: ans.id %>
      <%= f.hidden_field :responsible_type, value: "answer" %>
       <p>
         <%= f.label :content, "New comment" %><br/>
         <%= f.text_area :content %>
       </p>
       <p><%= f.submit "Add comment" %></p>
     <% end %>
    </div>
  </button>
  </li>
<% end %>
</ul>
<!-- Create A New Answer -->
<h4>Your Answer</h4>

<%= form_for(@answer) do |f| %>

  <%= f.hidden_field :question_id, value: @question.id %>

  <%= f.label :content %>
  <br>
  <%= f.text_field :content, size: 200 %>
  <br>

  <%= f.submit "Post Your Answer" %>

<% end %>
